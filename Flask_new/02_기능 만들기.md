# 기능 만들기

### Model 만들기

Flask의 모델은 `models.py`에 저장한다.

```python
# models.py
from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()

# 테이블을 정의하는 클래스
class User(db.Model):
    __tablename__ = 'user'	# 테이블명 설정
    id = db.Column(db.Integer, primary_key=True)
    password  = db.Column(db.String(64))
    userid  = db.Column(db.String(32))
    username  = db.Column(db.String(8))
```

sqlite 환경설정은 main 태그에서 처리한다.

```python
# app.py
import os
from flask import Flask
from flask import render_template
from models import db

app = Flask(__name__)

if __name__ == "__main__":
    # sqlite 환경설정
    basedir = os.path.abspath(os.path.dirname(__file__))
    dbfile = os.path.join(basedir, 'db.sqlite')

    app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///' + dbfile
    app.config['SQLALCHEMY_COMMIT_ON_TEARDOWN'] = True
    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False

    db.init_app(app)
    db.app = app
    db.create_all()

    # flask 서버 구동
    app.run(host='127.0.0.1', port=5000, debug=True)
```

### View 만들기

- 템플릿은 templates 폴더에 저장한다.
- HTML로 템플릿을 만든 다음 `app.py`에 `render_template()`으로 템플릿을 띄울 수 있게 한다.

```python
@app.route('/register')	 # route를 통해 페이지 경로를 설정한다.
def register():
    return render_template('register.html')
```

